<div class="pager">
    <button class="pager-btn"
            @onclick="GoPrev"
            disabled="@(!CanGoPrev)">
        ‹ Prev
    </button>

    <span class="pager-page-indicator">
        Page @CurrentPage <span class="pager-sep">/</span> @TotalPages
    </span>

    <button class="pager-btn"
            @onclick="GoNext"
            disabled="@(!CanGoNext)">
        Next ›
    </button>
</div>

@code {
    [Parameter] public int CurrentPage { get; set; } = 1;
    [Parameter] public int TotalPages { get; set; } = 1;

    [Parameter] public EventCallback<int> CurrentPageChanged { get; set; }

    private bool CanGoPrev => CurrentPage > 1;
    private bool CanGoNext => CurrentPage < TotalPages;

    private async Task GoPrev()
    {
        if (!CanGoPrev) return;
        await SetPage(CurrentPage - 1);
    }

    private async Task GoNext()
    {
        if (!CanGoNext) return;
        await SetPage(CurrentPage + 1);
    }

    private async Task SetPage(int page)
    {
        if (page < 1 || page > TotalPages) return;
        CurrentPage = page;
        await CurrentPageChanged.InvokeAsync(CurrentPage);
    }
}
